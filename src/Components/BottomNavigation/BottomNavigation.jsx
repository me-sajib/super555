import * as React from "react";
import Box from "@mui/material/Box";
import BottomNavigation from "@mui/material/BottomNavigation";
import BottomNavigationAction from "@mui/material/BottomNavigationAction";
import {
  CardGiftcard,
  Dashboard,
  Home,
  Person,
  Send,
} from "@mui/icons-material";
import { Link, useLocation, useNavigate } from "react-router-dom";
import ProfileDrawer from "../ProfileDrawer/ProfileDrawer";

export default function BottomNavigationComponent() {
  const [value, setValue] = React.useState(null);
  const navigate = useNavigate();
  const location = useLocation();
  const [open, setOpen] = React.useState(false);


  React.useEffect(() => {
    const routeToValue = {
      "/": 0,
      "/my-contests": 1,
      "/my-rewards": 2,
      "/refer-and-earn": 3,
      "/profile": 4,
      "/coin-history": 5,
      "/faqs": 6,
      "/FAQs": 10,
    };
    if (location.pathname.length > 15) {
      setValue(10);
    } else {
      setValue(routeToValue[location.pathname] || 0);
    }
  }, [location.pathname]);

  const handleNavigation = (value) => {
    if (value === 0) {
      navigate("/");
    } else if (value === 1) {
      navigate("/my-contests");
    } else if (value === 2) {
      navigate("/my-rewards");
    } else if (value === 3) {
      navigate("/refer-and-earn");
    } else if (value === 4) {
      navigate("/profile");
    } else {
      navigate("/");
    }
  };
  console.log("ddd");

  return (
    <div className="">
      <div class="z-[2] fixed bottom-0  left-0 w-full">
        <footer class="max-w-[430px]  mx-auto w-full">

      

          <div class="h-[68px] pb-2 px-[20px] shadow-lg rounded-[24px_24px_0_0] w-full border border-[#E7E7E7] bg-[#FBFBFB] flex items-center justify-between">
            <a class="flex flex-col items-center" href="/">
              <div class="w-[20px]">
                <svg
                  width="100%"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M23.3529 10.4388L23.3513 10.4372L13.5612 0.647484C13.1439 0.229922 12.589 0 11.9989 0C11.4088 0 10.854 0.229781 10.4365 0.647297L0.651482 10.432C0.648201 10.4353 0.64492 10.4388 0.641639 10.4421C-0.21533 11.304 -0.21383 12.7023 0.645857 13.562C1.03858 13.955 1.55734 14.1825 2.11197 14.2064C2.13447 14.2086 2.1572 14.2096 2.18008 14.2096H2.57026V21.4143C2.57026 22.84 3.73023 24 5.15626 24H8.98642C9.37464 24 9.68954 23.6852 9.68954 23.2969V17.6484C9.68954 16.9979 10.2188 16.4687 10.8693 16.4687H13.1285C13.7791 16.4687 14.3082 16.9979 14.3082 17.6484V23.2969C14.3082 23.6852 14.623 24 15.0114 24H18.8416C20.2676 24 21.4276 22.84 21.4276 21.4144V14.2097H21.7894C22.3794 14.2097 22.9342 13.9799 23.3518 13.5624C24.2125 12.7013 24.2128 11.3005 23.3529 10.4388Z"
                    fill="#ED5311"
                  ></path>
                </svg>
              </div>
              <span class="text-[12px] text-primary">Home</span>
            </a>
            <Link class="flex flex-col items-center" to="/my-contests">
              <div class="w-[20px]">
                <svg
                  width="100%"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18.9242 3.70699L20.7029 1.92827L22.0713 3.29666L20.2926 5.07538L18.9242 3.70699ZM23.7169 1.65226C23.8984 1.47075 24.0004 1.22457 24.0004 0.967874C24.0004 0.711178 23.8984 0.464996 23.7169 0.283484C23.5354 0.101972 23.2892 2.9416e-08 23.0325 2.30729e-08C22.7758 1.67297e-08 22.5296 0.101972 22.3481 0.283484L21.2518 1.37859L22.6218 2.74853L23.7169 1.65226ZM5.77835 7.14713L10.3093 10.3093L7.14713 5.77835L5.62119 4.25241L4.25241 5.62119L5.77835 7.14713ZM1.92556 3.29434L3.29395 1.92633L5.07267 3.70505L3.70428 5.07344L1.92556 3.29434ZM1.37859 2.74853L2.74853 1.37859L1.65226 0.283484C1.47075 0.101972 1.22457 0 0.967874 0C0.711178 0 0.464996 0.101972 0.283484 0.283484C0.101972 0.464996 0 0.711178 0 0.967874C0 1.22457 0.101972 1.47075 0.283484 1.65226L1.37859 2.74853Z"
                    fill="#181818"
                  ></path>
                  <path
                    d="M10.3047 5.92545C10.132 5.75275 9.92094 5.62333 9.68871 5.54778C9.45647 5.47223 9.20966 5.45269 8.96842 5.49074L7.99758 5.64558L12.1864 11.6475C12.2382 11.7221 12.2623 11.8125 12.2542 11.9029C12.2462 11.9934 12.2066 12.0781 12.1424 12.1424C12.0781 12.2066 11.9934 12.2462 11.9029 12.2542C11.8125 12.2623 11.7221 12.2383 11.6475 12.1864L5.64402 7.99759L5.48918 8.96843C5.45112 9.20967 5.47067 9.45648 5.54622 9.68872C5.62177 9.92096 5.75119 10.132 5.92389 10.3047L19.2788 23.6596C19.4966 23.8773 19.7919 23.9996 20.0998 23.9996C20.4078 23.9996 20.7031 23.8773 20.9209 23.6596L23.658 20.9224C23.8758 20.7047 23.9981 20.4093 23.9981 20.1014C23.9981 19.7935 23.8758 19.4981 23.658 19.2804L10.3047 5.92545ZM15.4794 10.0051L16.9272 11.4528L18.0749 10.3047C18.2476 10.132 18.377 9.92096 18.4526 9.68872C18.5281 9.45648 18.5477 9.20967 18.5096 8.96843L18.3548 7.99759L15.4794 10.0051ZM16.0028 5.64403L15.0319 5.48919C14.7907 5.45114 14.5439 5.47068 14.3117 5.54623C14.0794 5.62179 13.8683 5.7512 13.6957 5.9239L12.5475 7.07165L13.9953 8.5194L16.0028 5.64403ZM0.340378 19.2807C0.122669 19.4985 0.000366211 19.7938 0.000366211 20.1018C0.000366211 20.4097 0.122669 20.705 0.340378 20.9228L3.07755 23.66C3.29533 23.8777 3.59066 24 3.89859 24C4.20652 24 4.50185 23.8777 4.71963 23.66L11.4528 16.9272L7.07319 12.5476L0.340378 19.2807ZM14.9235 9.44921L18.222 7.14714L19.748 5.62119L18.3792 4.25241L16.8532 5.77835L14.5512 9.07682L14.9235 9.44921Z"
                    fill="#181818"
                  ></path>
                </svg>
              </div>
              <span class="text-[12px] text-[#181818]">My Matches</span>
            </Link>
            <a class="flex flex-col items-center" href="/rewards">
              <div class="w-[20px]">
                <svg
                  width="100%"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M1.99626 14.5178H11.2289V24H3.74298C2.78478 24 1.99626 23.2115 1.99626 22.2533V14.5178ZM21.9588 14.5178V22.2533C21.9588 23.2115 21.1703 24 20.2121 24H12.7261V14.5178H21.9588ZM0 8.77855V11.2739C0 12.2321 0.788522 13.0206 1.74672 13.0206H11.2289V7.03183H1.74672C0.788522 7.03183 0 7.82035 0 8.77855ZM22.2084 7.03183H12.7261V13.0206H22.2084C23.1666 13.0206 23.9551 12.2321 23.9551 11.2739V8.77855C23.9551 7.82035 23.1666 7.03183 22.2084 7.03183Z"
                    fill="#181818"
                  ></path>
                  <path
                    d="M11.9775 8.07386C11.87 8.07355 11.7639 8.05015 11.6662 8.00524C11.5685 7.96034 11.4816 7.89499 11.4114 7.8136C11.3412 7.73221 11.2893 7.63669 11.2592 7.5335C11.2291 7.43031 11.2215 7.32185 11.2369 7.21547C11.6062 4.72015 13.5556 0 18.2947 0C20.9996 0.000998129 21.9588 1.46226 21.9588 2.71391C21.9588 4.93874 18.8616 8.07386 11.9775 8.07386ZM18.2947 1.49819C14.7194 1.49819 13.3619 4.89682 12.9118 6.55471C15.7325 6.42296 17.5111 5.70929 18.5352 5.10143C19.9556 4.25802 20.4616 3.31478 20.4616 2.71291C20.4616 1.81659 19.3427 1.49819 18.2947 1.49819Z"
                    fill="#181818"
                  ></path>
                  <path
                    d="M11.9786 8.07387C5.09451 8.07387 1.99731 4.93875 1.99731 2.71392C1.99731 1.46227 2.95751 0.00100708 5.66244 0.00100708C10.4006 0.00100708 12.3499 4.72116 12.7192 7.21648C12.7345 7.32278 12.7268 7.43113 12.6966 7.5342C12.6664 7.63727 12.6145 7.73266 12.5443 7.81394C12.4741 7.89521 12.3872 7.96047 12.2897 8.00531C12.1921 8.05016 12.086 8.07353 11.9786 8.07387ZM5.66244 1.4982C4.61441 1.4982 3.49451 1.8176 3.49451 2.71392C3.49451 3.98853 5.72333 6.31118 11.0434 6.55572C10.5942 4.89683 9.23674 1.4982 5.66244 1.4982Z"
                    fill="#181818"
                  ></path>
                </svg>
              </div>
              <span class="text-[12px] text-[#181818]">Rewards</span>
            </a>
            <a class="flex flex-col items-center" href="/refer-earn">
              <div class="w-[20px]">
                <svg
                  width="100%"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11.1647 10.107V8.94215C11.1655 8.37921 10.9889 7.83034 10.6598 7.37361C10.3307 6.91688 9.86597 6.57555 9.33172 6.39815L8.26114 6.03815C7.52943 6.7053 6.57492 7.07512 5.58472 7.07512C4.59451 7.07512 3.64001 6.7053 2.90829 6.03815L1.83257 6.39815C1.2984 6.57562 0.833777 6.91699 0.504776 7.37371C0.175775 7.83044 -0.000855508 8.37926 3.11563e-06 8.94215V10.107C8.55476e-07 10.3913 0.112656 10.6641 0.313305 10.8655C0.513953 11.067 0.786248 11.1807 1.07057 11.1819H10.0941C10.3785 11.1807 10.6508 11.067 10.8514 10.8655C11.0521 10.6641 11.1647 10.3913 11.1647 10.107Z"
                    fill="black"
                  ></path>
                  <path
                    d="M3.87552 5.71286C5.82509 7.08515 8.75995 5.54357 8.69352 3.11357C8.69284 2.28809 8.36464 1.4966 7.78097 0.912851C7.19731 0.329103 6.40586 0.000798531 5.58038 4.09094e-06C2.50495 -0.00471019 1.32466 4.06629 3.87552 5.71286ZM22.1498 19.2163L21.0749 18.8606C20.3419 19.5258 19.3873 19.894 18.3975 19.8932C17.4076 19.8924 16.4536 19.5227 15.7217 18.8563L14.6511 19.212C14.1169 19.3909 13.6525 19.7332 13.3236 20.1905C12.9946 20.6478 12.8178 21.197 12.8181 21.7603V22.9251C12.8181 23.2095 12.9307 23.4822 13.1314 23.6837C13.332 23.8851 13.6043 23.9989 13.8887 24H22.9122C23.1966 23.9989 23.4688 23.8851 23.6695 23.6837C23.8701 23.4822 23.9828 23.2095 23.9828 22.9251V21.7603C23.9836 21.1973 23.8069 20.6485 23.4779 20.1918C23.1488 19.735 22.6841 19.3937 22.1498 19.2163Z"
                    fill="black"
                  ></path>
                  <path
                    d="M18.4029 12.8182C15.318 12.8139 14.1442 16.8857 16.698 18.5353C18.6498 19.9003 21.5752 18.3622 21.5118 15.9313C21.5111 15.1065 21.1834 14.3157 20.6005 13.7321C20.0177 13.1485 19.2277 12.8199 18.4029 12.8182ZM16.5309 6.36001V5.57573C17.7548 5.67052 18.9159 6.15569 19.8435 6.95984C20.771 7.76398 21.4158 8.84462 21.6832 10.0427C21.6686 10.5304 21.018 11.2397 21.6189 11.5504C22.4709 11.8997 22.6689 9.37201 22.6723 8.81358C22.6697 7.14601 22.0341 5.54161 20.8942 4.32455C19.7542 3.10748 18.1947 2.36849 16.5309 2.25687V1.44344C16.529 1.36652 16.5066 1.2915 16.4662 1.22603C16.4258 1.16057 16.3687 1.10701 16.3008 1.07084C16.2329 1.03466 16.1566 1.01716 16.0797 1.02013C16.0028 1.0231 15.9281 1.04642 15.8632 1.08773L12.18 3.54601C12.1215 3.58503 12.0735 3.6379 12.0404 3.69991C12.0072 3.76193 11.9898 3.83118 11.9898 3.90151C11.9898 3.97185 12.0072 4.0411 12.0404 4.10311C12.0735 4.16513 12.1215 4.21799 12.18 4.25701L15.8632 6.7153C15.928 6.75717 16.0028 6.78097 16.0799 6.78421C16.157 6.78746 16.2335 6.77004 16.3016 6.73377C16.3697 6.69749 16.4269 6.64367 16.4672 6.57788C16.5075 6.51209 16.5295 6.43715 16.5309 6.36001ZM8.11975 17.2847C8.05495 17.2428 7.98013 17.2191 7.90304 17.2158C7.82596 17.2126 7.7494 17.23 7.68131 17.2663C7.61321 17.3025 7.55605 17.3563 7.51574 17.4221C7.47543 17.4879 7.45344 17.5633 7.45204 17.6404V18.4239C6.22818 18.3292 5.06704 17.8441 4.13952 17.04C3.21201 16.2359 2.56711 15.1553 2.29975 13.9573C2.31561 13.4734 2.96318 12.7564 2.36404 12.4496C2.31231 12.4281 2.25683 12.417 2.20081 12.417C2.14478 12.417 2.0893 12.428 2.03757 12.4495C1.98583 12.4711 1.93885 12.5026 1.89934 12.5423C1.85983 12.582 1.82856 12.6292 1.80733 12.681C0.045898 16.7169 3.08661 21.5524 7.45161 21.7432V22.5566C7.45319 22.6337 7.47532 22.7091 7.51574 22.7748C7.55615 22.8406 7.61338 22.8944 7.68152 22.9306C7.74965 22.9669 7.82623 22.9843 7.90334 22.9811C7.98045 22.9778 8.05531 22.9541 8.12018 22.9123L11.8029 20.454C11.8614 20.415 11.9094 20.3621 11.9426 20.3001C11.9758 20.2381 11.9931 20.1688 11.9931 20.0985C11.9931 20.0282 11.9758 19.9589 11.9426 19.8969C11.9094 19.8349 11.8614 19.782 11.8029 19.743L8.11975 17.2847Z"
                    fill="black"
                  ></path>
                </svg>
              </div>
              <span class="text-[12px] text-[#181818]">Refer &amp; Earn</span>
            </a>
            <div
              onClick={() => setOpen(!open)}
              class="flex cursor-pointer flex-col items-center"
            >
              <div class="w-[20px]">
                <svg
                  width="100%"
                  height="24"
                  viewBox="0 0 21 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9.86018 11.5608C11.4484 11.5608 12.8237 10.9912 13.9474 9.86725C15.0711 8.74357 15.6408 7.36865 15.6408 5.78025C15.6408 4.19233 15.0711 2.81726 13.9472 1.69316C12.8233 0.56962 11.4482 0 9.86018 0C8.27174 0 6.89676 0.569621 5.77308 1.69335C4.64941 2.81707 4.07955 4.19219 4.07955 5.78025C4.07955 7.36865 4.64936 8.74376 5.77327 9.86749C6.89718 10.991 8.2723 11.5608 9.86018 11.5608ZM19.9746 18.4547C19.9422 17.9871 19.8767 17.4769 19.7802 16.9382C19.6828 16.3955 19.5574 15.8824 19.4072 15.4135C19.2521 14.9288 19.0412 14.4502 18.7805 13.9915C18.5098 13.5155 18.192 13.1009 17.8352 12.7598C17.4623 12.4029 17.0056 12.116 16.4775 11.9067C15.9513 11.6985 15.3681 11.5931 14.7443 11.5931C14.4993 11.5931 14.2624 11.6936 13.8048 11.9915C13.4795 12.2033 13.1533 12.4136 12.8261 12.6224C12.5117 12.8228 12.0858 13.0105 11.5597 13.1804C11.0465 13.3465 10.5254 13.4307 10.011 13.4307C9.49671 13.4307 8.97575 13.3465 8.46195 13.1804C7.93649 13.0106 7.51059 12.823 7.19653 12.6226C6.83231 12.3899 6.50278 12.1775 6.21694 11.9913C5.75991 11.6934 5.52277 11.5928 5.27781 11.5928C4.65376 11.5928 4.07079 11.6985 3.54471 11.9069C3.017 12.1158 2.56016 12.4027 2.1868 12.76C1.83032 13.1013 1.51227 13.5156 1.24199 13.9915C0.981465 14.4502 0.77053 14.9286 0.615234 15.4137C0.465235 15.8826 0.339845 16.3955 0.24244 16.9382C0.145925 17.4762 0.0803944 17.9865 0.0479571 18.4552C0.0156896 18.927 -0.00030413 19.3996 4.37874e-06 19.8725C4.37874e-06 21.1253 0.398251 22.1395 1.18359 22.8874C1.95922 23.6256 2.9855 24 4.23353 24H15.7896C17.0377 24 18.0636 23.6258 18.8394 22.8875C19.6249 22.14 20.0232 21.1256 20.0232 19.8723C20.023 19.3887 20.0067 18.9117 19.9746 18.4547Z"
                    fill="#181818"
                  ></path>
                </svg>
              </div>
              <span class="text-[12px] text-[#181818]">Profile</span>
              <div 
              
              >
                <ProfileDrawer open={open} setOpen={setOpen} />
              </div>
              
                  
              
           
            </div>
          
           
          </div>
          
        </footer>
      </div>
      {/* <Box sx={{ width: '100%', position: 'fixed', bottom: 0, height: '70px' }}>
                <BottomNavigation
                    showLabels
                    sx={{ backgroundColor: '#181818', color: 'white', height: '100%' }}
                    value={value}
                    onChange={(event, newValue) => {
                        handleNavigation(newValue)
                    }}>
                    <BottomNavigationAction label='Home' sx={{ color: 'white' }} icon={<Home />} />
                    <BottomNavigationAction label='MyMatches' sx={{ color: 'white' }} icon={<Dashboard />} />
                    <BottomNavigationAction label='Rewards' sx={{ color: 'white' }} icon={<CardGiftcard />} />
                    <BottomNavigationAction label='Refer' sx={{ color: 'white' }} icon={<Send />} />
                    <BottomNavigationAction label='Profile' sx={{ color: 'white' }} icon={<Person />} />
                </BottomNavigation>
            </Box> */}
    </div>
  );
}
